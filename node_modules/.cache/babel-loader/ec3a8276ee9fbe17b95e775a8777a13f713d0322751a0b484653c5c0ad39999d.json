{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Documents/\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\\xA0\\u2014 MacBook Air/VSCode/Code/JS/films/movie-list-app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport SearchBar from './components/SearchBar';\nimport MovieList from './components/MovieList';\nimport FavoritesCounter from './components/FavoritesCounter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [movies, setMovies] = useState([{\n    id: 1,\n    title: \"Крестный отец\",\n    year: 1972,\n    rating: 9.2,\n    description: \"Эпическая сага о сицилийской мафиозной семье Корлеоне.\",\n    isFavorite: false\n  }, {\n    id: 2,\n    title: \"Побег из Шоушенка\",\n    year: 1994,\n    rating: 9.3,\n    description: \"Драма о надежде и дружбе в тюремных стенах.\",\n    isFavorite: false\n  }, {\n    id: 3,\n    title: \"Темный рыцарь\",\n    year: 2008,\n    rating: 9.0,\n    description: \"Бэтмен сражается с хаотичным Джокером в Готэме.\",\n    isFavorite: false\n  }, {\n    id: 4,\n    title: \"Форрест Гамп\",\n    year: 1994,\n    rating: 8.8,\n    description: \"История простого человека, ставшего свидетелем ключевых событий американской истории.\",\n    isFavorite: false\n  }, {\n    id: 5,\n    title: \"Начало\",\n    year: 2010,\n    rating: 8.8,\n    description: \"Группа специалистов по внедрению в сны выполняет сложную задачу.\",\n    isFavorite: false\n  }]);\n  const [favorites, setFavorites] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Загрузка избранных из localStorage при загрузке\n  useEffect(() => {\n    const savedFavorites = localStorage.getItem('movieFavorites');\n    if (savedFavorites) {\n      const favoriteIds = JSON.parse(savedFavorites);\n      setFavorites(favoriteIds);\n\n      // Обновляем состояние isFavorite для фильмов\n      setMovies(prevMovies => prevMovies.map(movie => ({\n        ...movie,\n        isFavorite: favoriteIds.includes(movie.id)\n      })));\n    }\n  }, []);\n\n  // Сохранение избранных в localStorage при изменении\n  useEffect(() => {\n    localStorage.setItem('movieFavorites', JSON.stringify(favorites));\n  }, [favorites]);\n  const handleToggleFavorite = movieId => {\n    setMovies(prevMovies => prevMovies.map(movie => movie.id === movieId ? {\n      ...movie,\n      isFavorite: !movie.isFavorite\n    } : movie));\n    setFavorites(prevFavorites => {\n      if (prevFavorites.includes(movieId)) {\n        return prevFavorites.filter(id => id !== movieId);\n      } else {\n        return [...prevFavorites, movieId];\n      }\n    });\n  };\n  const handleSearch = query => {\n    setSearchQuery(query);\n  };\n  const filteredMovies = movies.filter(movie => movie.title.toLowerCase().includes(searchQuery.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uFFFD\\uFFFD \\u041C\\u043E\\u044F \\u043A\\u043E\\u043B\\u043B\\u0435\\u043A\\u0446\\u0438\\u044F \\u0444\\u0438\\u043B\\u044C\\u043C\\u043E\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FavoritesCounter, {\n        count: favorites.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"app-main\",\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        onSearch: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MovieList, {\n        movies: filteredMovies,\n        onToggleFavorite: handleToggleFavorite\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), filteredMovies.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-results\",\n        children: \"\\u0424\\u0438\\u043B\\u044C\\u043C\\u044B \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B. \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u043E\\u0438\\u0441\\u043A\\u043E\\u0432\\u044B\\u0439 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"app-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u0412\\u0441\\u0435\\u0433\\u043E \\u0444\\u0438\\u043B\\u044C\\u043C\\u043E\\u0432: \", movies.length, \" | \\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u044B\\u0445: \", favorites.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"YCWkQN/n3iEp4iRQQCOY3Jvh2Pg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","SearchBar","MovieList","FavoritesCounter","jsxDEV","_jsxDEV","App","_s","movies","setMovies","id","title","year","rating","description","isFavorite","favorites","setFavorites","searchQuery","setSearchQuery","savedFavorites","localStorage","getItem","favoriteIds","JSON","parse","prevMovies","map","movie","includes","setItem","stringify","handleToggleFavorite","movieId","prevFavorites","filter","handleSearch","query","filteredMovies","toLowerCase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","count","length","onSearch","onToggleFavorite","_c","$RefreshReg$"],"sources":["/Users/macbook/Documents/Документы — MacBook Air/VSCode/Code/JS/films/movie-list-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport SearchBar from './components/SearchBar';\nimport MovieList from './components/MovieList';\nimport FavoritesCounter from './components/FavoritesCounter';\n\nfunction App() {\n  const [movies, setMovies] = useState([\n    {\n      id: 1,\n      title: \"Крестный отец\",\n      year: 1972,\n      rating: 9.2,\n      description: \"Эпическая сага о сицилийской мафиозной семье Корлеоне.\",\n      isFavorite: false\n    },\n    {\n      id: 2,\n      title: \"Побег из Шоушенка\",\n      year: 1994,\n      rating: 9.3,\n      description: \"Драма о надежде и дружбе в тюремных стенах.\",\n      isFavorite: false\n    },\n    {\n      id: 3,\n      title: \"Темный рыцарь\",\n      year: 2008,\n      rating: 9.0,\n      description: \"Бэтмен сражается с хаотичным Джокером в Готэме.\",\n      isFavorite: false\n    },\n    {\n      id: 4,\n      title: \"Форрест Гамп\",\n      year: 1994,\n      rating: 8.8,\n      description: \"История простого человека, ставшего свидетелем ключевых событий американской истории.\",\n      isFavorite: false\n    },\n    {\n      id: 5,\n      title: \"Начало\",\n      year: 2010,\n      rating: 8.8,\n      description: \"Группа специалистов по внедрению в сны выполняет сложную задачу.\",\n      isFavorite: false\n    }\n  ]);\n\n  const [favorites, setFavorites] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  // Загрузка избранных из localStorage при загрузке\n  useEffect(() => {\n    const savedFavorites = localStorage.getItem('movieFavorites');\n    if (savedFavorites) {\n      const favoriteIds = JSON.parse(savedFavorites);\n      setFavorites(favoriteIds);\n      \n      // Обновляем состояние isFavorite для фильмов\n      setMovies(prevMovies => \n        prevMovies.map(movie => ({\n          ...movie,\n          isFavorite: favoriteIds.includes(movie.id)\n        }))\n      );\n    }\n  }, []);\n\n  // Сохранение избранных в localStorage при изменении\n  useEffect(() => {\n    localStorage.setItem('movieFavorites', JSON.stringify(favorites));\n  }, [favorites]);\n\n  const handleToggleFavorite = (movieId) => {\n    setMovies(prevMovies => \n      prevMovies.map(movie => \n        movie.id === movieId \n          ? { ...movie, isFavorite: !movie.isFavorite }\n          : movie\n      )\n    );\n\n    setFavorites(prevFavorites => {\n      if (prevFavorites.includes(movieId)) {\n        return prevFavorites.filter(id => id !== movieId);\n      } else {\n        return [...prevFavorites, movieId];\n      }\n    });\n  };\n\n  const handleSearch = (query) => {\n    setSearchQuery(query);\n  };\n\n  const filteredMovies = movies.filter(movie =>\n    movie.title.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  return (\n    <div className=\"app\">\n      <header className=\"app-header\">\n        <h1>�� Моя коллекция фильмов</h1>\n        <FavoritesCounter count={favorites.length} />\n      </header>\n      \n      <main className=\"app-main\">\n        <SearchBar onSearch={handleSearch} />\n        <MovieList \n          movies={filteredMovies} \n          onToggleFavorite={handleToggleFavorite}\n        />\n        \n        {filteredMovies.length === 0 && (\n          <div className=\"no-results\">\n            Фильмы не найдены. Попробуйте изменить поисковый запрос.\n          </div>\n        )}\n      </main>\n      \n      <footer className=\"app-footer\">\n        <p>Всего фильмов: {movies.length} | Избранных: {favorites.length}</p>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}